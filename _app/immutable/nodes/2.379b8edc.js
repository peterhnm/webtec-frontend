import{S as I,i as J,s as O,k as T,a as w,q as N,l as v,m as $,c as E,r as P,h as f,n as k,b as g,G as y,J as D,u as ee,H as h,K as te,L as ne,g as p,d as b,e as B,v as X,f as Y,M as se,w as j,N as U,y as q,z,A,O as C,B as H,P as K,Q as ce,I as Q}from"../chunks/index.3865e5fa.js";import{g as le,p as V,t as F}from"../chunks/stores.b1a56832.js";import{e as ae}from"../chunks/singletons.c423b79a.js";const oe=!0,re=!1,$e=Object.freeze(Object.defineProperty({__proto__:null,prerender:oe,ssr:re},Symbol.toStringTag,{value:"Module"}));function ie(o){let e,l,t,s,r,n;return{c(){e=T("label"),l=T("input"),t=w(),s=N(o[0]),this.h()},l(a){e=v(a,"LABEL",{for:!0});var c=$(e);l=v(c,"INPUT",{id:!0,type:!0}),t=E(c),s=P(c,o[0]),c.forEach(f),this.h()},h(){l.checked=o[1],k(l,"id",o[0]),k(l,"type","checkbox"),k(e,"for",o[0])},m(a,c){g(a,e,c),y(e,l),y(e,t),y(e,s),r||(n=D(l,"click",o[2]),r=!0)},p(a,[c]){c&2&&(l.checked=a[1]),c&1&&k(l,"id",a[0]),c&1&&ee(s,a[0]),c&1&&k(e,"for",a[0])},i:h,o:h,d(a){a&&f(e),r=!1,n()}}}function ue(o,e,l){let{id:t}=e,{checked:s}=e,{checkedTags:r}=e;const n=a=>{const c=a.srcElement;c.checked&&!r.includes(c.id)?r.push(c.id):c.checked||l(3,r=r.filter(u=>u!==c.id))};return o.$$set=a=>{"id"in a&&l(0,t=a.id),"checked"in a&&l(1,s=a.checked),"checkedTags"in a&&l(3,r=a.checkedTags)},[t,s,n,r]}class Z extends I{constructor(e){super(),J(this,e,ue,ie,O,{id:0,checked:1,checkedTags:3})}}function R(o,e,l){const t=o.slice();return t[6]=e[l],t}function fe(o){return{c:h,l:h,m:h,p:h,i:h,o:h,d:h}}function _e(o){let e,l,t=o[5].tags,s=[];for(let n=0;n<t.length;n+=1)s[n]=W(R(o,t,n));const r=n=>b(s[n],1,1,()=>{s[n]=null});return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=B()},l(n){for(let a=0;a<s.length;a+=1)s[a].l(n);e=B()},m(n,a){for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(n,a);g(n,e,a),l=!0},p(n,a){if(a&3){t=n[5].tags;let c;for(c=0;c<t.length;c+=1){const u=R(n,t,c);s[c]?(s[c].p(u,a),p(s[c],1)):(s[c]=W(u),s[c].c(),p(s[c],1),s[c].m(e.parentNode,e))}for(X(),c=t.length;c<s.length;c+=1)r(c);Y()}},i(n){if(!l){for(let a=0;a<t.length;a+=1)p(s[a]);l=!0}},o(n){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)b(s[a]);l=!1},d(n){se(s,n),n&&f(e)}}}function de(o){let e,l,t;function s(n){o[3](n)}let r={id:o[6],checked:!1};return o[0]!==void 0&&(r.checkedTags=o[0]),e=new Z({props:r}),j.push(()=>U(e,"checkedTags",s)),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){A(e,n,a),t=!0},p(n,a){const c={};!l&&a&1&&(l=!0,c.checkedTags=n[0],C(()=>l=!1)),e.$set(c)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function he(o){let e,l,t;function s(n){o[2](n)}let r={id:o[6],checked:!0};return o[0]!==void 0&&(r.checkedTags=o[0]),e=new Z({props:r}),j.push(()=>U(e,"checkedTags",s)),{c(){q(e.$$.fragment)},l(n){z(e.$$.fragment,n)},m(n,a){A(e,n,a),t=!0},p(n,a){const c={};!l&&a&1&&(l=!0,c.checkedTags=n[0],C(()=>l=!1)),e.$set(c)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){b(e.$$.fragment,n),t=!1},d(n){H(e,n)}}}function W(o){let e,l,t,s,r;const n=[he,de],a=[];function c(u,d){return d&1&&(e=null),e==null&&(e=!!u[0].includes(u[6])),e?0:1}return l=c(o,-1),t=a[l]=n[l](o),{c(){t.c(),s=B()},l(u){t.l(u),s=B()},m(u,d){a[l].m(u,d),g(u,s,d),r=!0},p(u,d){let m=l;l=c(u,d),l===m?a[l].p(u,d):(X(),b(a[m],1,1,()=>{a[m]=null}),Y(),t=a[l],t?t.p(u,d):(t=a[l]=n[l](u),t.c()),p(t,1),t.m(s.parentNode,s))},i(u){r||(p(t),r=!0)},o(u){b(t),r=!1},d(u){a[l].d(u),u&&f(s)}}}function ge(o){let e,l;return{c(){e=T("p"),l=N("Loading ...")},l(t){e=v(t,"P",{});var s=$(e);l=P(s,"Loading ..."),s.forEach(f)},m(t,s){g(t,e,s),y(e,l)},p:h,i:h,o:h,d(t){t&&f(e)}}}function pe(o){let e,l,t={ctx:o,current:null,token:null,hasCatch:!1,pending:ge,then:_e,catch:fe,value:5,blocks:[,,,]};return te(o[1],t),{c(){e=T("div"),t.block.c(),this.h()},l(s){e=v(s,"DIV",{class:!0});var r=$(e);t.block.l(r),r.forEach(f),this.h()},h(){k(e,"class","tags")},m(s,r){g(s,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null,l=!0},p(s,[r]){o=s,ne(t,o,r)},i(s){l||(p(t.block),l=!0)},o(s){for(let r=0;r<3;r+=1){const n=t.blocks[r];b(n)}l=!1},d(s){s&&f(e),t.block.d(),t.token=null,t=null}}}function me(o,e,l){let{checkedTags:t=[]}=e;const r=(async()=>await(await fetch("https://d097fa25-5d10-476c-82d0-b8224ef409e9.mock.pstmn.io/get_tags")).json())();function n(c){t=c,l(0,t)}function a(c){t=c,l(0,t)}return o.$$set=c=>{"checkedTags"in c&&l(0,t=c.checkedTags)},[t,r,n,a]}class ke extends I{constructor(e){super(),J(this,e,me,pe,O,{checkedTags:0})}}function be(o){let e,l,t,s,r,n,a,c,u,d,m,L,M;function x(i){o[4](i)}let G={};return o[1]!==void 0&&(G.checkedTags=o[1]),n=new ke({props:G}),j.push(()=>U(n,"checkedTags",x)),{c(){e=T("h1"),l=N("Jam Buddy"),t=w(),s=T("input"),r=w(),q(n.$$.fragment),c=w(),u=T("button"),d=N("Start Dreaming"),this.h()},l(i){e=v(i,"H1",{});var _=$(e);l=P(_,"Jam Buddy"),_.forEach(f),t=E(i),s=v(i,"INPUT",{placeholder:!0,type:!0}),r=E(i),z(n.$$.fragment,i),c=E(i),u=v(i,"BUTTON",{});var S=$(u);d=P(S,"Start Dreaming"),S.forEach(f),this.h()},h(){k(s,"placeholder","Jam Theme..."),k(s,"type","text")},m(i,_){g(i,e,_),y(e,l),g(i,t,_),g(i,s,_),K(s,o[0]),g(i,r,_),A(n,i,_),g(i,c,_),g(i,u,_),y(u,d),m=!0,L||(M=[D(s,"input",o[3]),D(u,"click",o[2])],L=!0)},p(i,[_]){_&1&&s.value!==i[0]&&K(s,i[0]);const S={};!a&&_&2&&(a=!0,S.checkedTags=i[1],C(()=>a=!1)),n.$set(S)},i(i){m||(p(n.$$.fragment,i),m=!0)},o(i){b(n.$$.fragment,i),m=!1},d(i){i&&f(e),i&&f(t),i&&f(s),i&&f(r),H(n,i),i&&f(c),i&&f(u),L=!1,ce(M)}}}function Te(o,e,l){let t,s;Q(o,V,c=>l(0,t=c)),Q(o,F,c=>l(1,s=c));function r(){if(!prompt){console.error("No prompt given!");return}le(`${ae}/result`)}function n(){t=this.value,V.set(t)}function a(c){s=c,F.set(s)}return[t,s,r,n,a]}class we extends I{constructor(e){super(),J(this,e,Te,be,O,{})}}export{we as component,$e as universal};
